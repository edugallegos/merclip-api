spec:
  name: merclip-api
  services:
  - name: merclip-api
    git:
      branch: main
      repo_clone_url: https://github.com/edugallegos/merclip-api.git
    envs:
    - key: LOG_LEVEL
      scope: RUN_TIME
      value: "INFO"
    - key: MAX_WORKERS
      scope: RUN_TIME
      value: "2"
    - key: PORT
      scope: RUN_TIME
      value: "8000"
    build_command: pip install -r requirements.txt
    run_command: uvicorn app.main:app --host 0.0.0.0 --port 8000
    http_port: 8000
    routes:
    - path: /
      preserve_path_prefix: true
    instance_size_slug: basic-xxs 